module tb_axi_lite;

    reg clk = 0;
    always #5 clk = ~clk;

    reg rst_n;

    reg awvalid;
    reg [3:0] awaddr;
    reg wvalid;
    reg [31:0] wdata;
    reg bready;

    reg arvalid;
    reg [3:0] araddr;
    reg rready;

    wire awready, wready, bvalid;
    wire arready, rvalid;
    wire [31:0] rdata;

    axi_lite_slave dut (
        clk, rst_n,
        awvalid, awaddr, awready,
        wvalid, wdata, wready,
        bvalid, bready,
        arvalid, araddr, arready,
        rvalid, rdata, rready
    );

    // ðŸ”¥ ADD THIS BLOCK ðŸ”¥
    initial begin
        $dumpfile("dump.vcd");
        $dumpvars(0, tb_axi_lite);
    end

    initial begin
        rst_n = 0;
        awvalid = 0; wvalid = 0; bready = 0;
        arvalid = 0; rready = 0;
        awaddr = 0; araddr = 0; wdata = 0;

        #20 rst_n = 1;

        // WRITE reg1
        #10 awaddr = 4'h4; wdata = 32'hDEADBEEF;
        awvalid = 1; wvalid = 1; bready = 1;
        #10 awvalid = 0; wvalid = 0;

        // READ reg1
        #20 araddr = 4'h4;
        arvalid = 1; rready = 1;
        #10 arvalid = 0;

        #50 $finish;
    end
endmodule
